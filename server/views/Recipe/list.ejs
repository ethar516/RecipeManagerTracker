<%- include ../Partials/header.ejs%>
<%- include ../Partials/main_nav.ejs%>
<!--recipe Database-->
<br><br>
<main class="container">
    <div class="row">
        <div class="offset-md-1 col-md-10 text-center"> <!-- text-center class -->
            <!-- centering the title and changing size -->
            <h1 style="font-size: 2.5rem; font-weight: bold;"><%= title %></h1>
            <br>
            <!-- centering the button -->
            <a href="/recipeslist/add" class="btn btn-primary btn-lg" role="button"> 
                <i class="fa fa-plus-circle"></i> Create a Recipe
            </a>
            <br><br> 
            <!-- margining to the left -->
            <table class="table table-bordered table-striped table-hover" style="margin-left: -115px;">

                <tr class="d-flex">
                    <th class="text-center col-3">Name</th>
                    <th class="text-center col-2">Category</th>
                    <th class="text-center col-2">Preparation Time</th>
                    <th class="text-center col-2">Calories</th>
                    <th class="text-center col-4">Ingredients</th>
                    <th class="text-center col-2">Actions</th>
                </tr>
                <!--For loop for each of the recipe list-->
                <% for(let count=0; count < RecipeList.length; count++) { %>
                <tr class="d-flex">
                    <td class="text-center col-3"><%= RecipeList[count].Name %></td>
                    <td class="text-center col-2"><%= RecipeList[count].Category %></td>
                    <td class="text-center col-2"><%= RecipeList[count].PreperationTime %></td>
                    <td class="text-center col-2"><%= RecipeList[count].Calories %></td>
                    <td class="text-center col-4"><%= RecipeList[count].Ingredients %></td>
                    
                    <td class="text-center col-1">
                        <a href="/recipeslist/edit/<%= RecipeList[count]._id %>"
                            class="btn btn-primary btn-sm">
                            <i class="fa fa-pencil"></i> Edit
                        </a>
                    </td>
                    <td class="text-center col-1">
                        <a 
                          href="/recipeslist/delete/<%= RecipeList[count]._id %>" 
                          class="btn btn-danger btn-sm" 
                          onclick="return confirmDelete()"
                        >
                          <i class="fa fa-trash"></i> Delete
                        </a>
                      </td>
                      
                      <!-- Add this script in your HTML file -->
                      <script>
                      function confirmDelete() {
                        return confirm("Are you sure you want to delete this recipe forever?");
                      }
                      </script>
                      
                </tr>    
                <% } %>
            </table>
        </div>
    </div>
</main>
<%- include ../Partials/footer.ejs%>
